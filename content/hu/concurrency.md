## VIII. Párhuzamos folyamatok
### Szolgáltatásunkat a nagyobb terheléshez -az állapot nélküli- folyamat modellünknek köszönhetően méretezzük át menet közben

Minden számítógépes program futtatása egy vagy több folyamatként (process) jeleníthető meg. A webes alkalmazások sokféle folyamat végrehajtási formát ölthetnek. Például a PHP folyamatok az Apache által a háttérben indított alfolyamatokként (child process) futnak, a kérések mennyiségéhez igazodva. A Java folyamatok épp az ellenkezőleg, a JVM egy méretes főfolyamatot (uberprocess) szolgáltat, ami induláskor a rendszer (CPU és memória) erőforrásainak egy jelentős részét lefoglalja, és a párhuzamosságot belső szálakkal kezeli. Mindkét esetben a futó folyamat(ok) csak minimális szinten láthatók az alkalmazás fejlesztője szemszögéből.

![A skálázást fejezzük ki folyamatokban, a terhelés sokféleségét pedig fejezzük ki folyamat típusban.](/images/process-types.png)

**A tizenkét tényezős alkalmazásokban a folyamatok elsőrendű állapolgárok.** A folyamatok a tizenkét tényezős alkalmazásban nagyon erősen másolják [a unix világ folyamat modelljét ami szolgáltatás daemon-okat futtat](https://adam.herokuapp.com/past/2011/5/9/applying_the_unix_process_model_to_web_apps/).Ezt a modellt felhasználva a fejlesztő a különböző terhelésekhez különböző *típusú folyamatokat* rendelve építheti fel az alkalmazását. Például a HTTP kéréseket kiszolgálhatják web folyamatok, a hosszú ideig futó háttérfeladatokat pedig kiszolgálhatják munkavégző (worker) folyamatok.

Ez nem zárja ki az egyes folyamatok saját belső párhuzamos tevékenységét (multiplexing) több szálon a futó viruális gép (VM) belsejében, vagy az [EventMachine](http://rubyeventmachine.com/), [Twisted](http://twistedmatrix.com/trac/), vagy [Node.js](http://nodejs.org/) és hasonló környezetekben található az aszinkron/eseményvezérelt felépítést. De a virtuális gép (VM) alapú rendszer maga csak egyféle nagy lehet (függőleges skálázással a gépet tudjuk alatta megnövelni), így az alkalmazásnak képesnek kell lennie a különböző folyamatokat több gépre leosztva futni, amenniyben párhuzamos (vízszintes) skálázódásra van szükség.

A folyamatmodell kíválósága akkor ragyog fel igazán, ha a megnövekedett terhelésre válaszul az egyszerre kiszolgáló folyamatok számát meg kell növelni (vizszintesen kell skálázni). A [A tizenkét tényezős alkalmazás semmit sem megosztó, így párhuzamosan (vízszintesen) építhető természetének köszönhetően](./processes) a párhuzamos végrehajtási kapacitás növelése egyszerű és megbízható művelet. A különböző folyamattípusok együttese és ezen belül az egyes folyamattípusokból futó folyamatok számát szokás *folyamatkialakításnak* (process formation) hívni.

A tizenkét tényezős alkalmazás [sosem démonizál](http://dustin.github.com/2010/02/28/running-processes.html) vagy ír PID állományt. Helyette az operációs rendszer folyamatvezérlőjére támaszkodik (mint a [systemd](https://www.freedesktop.org/wiki/Software/systemd/), vagy felhős környezetben az elosztott folyamatok vezérlője, vagy a [Foreman](http://blog.daviddollar.org/2011/05/06/introducing-foreman.html)-hoz hasonló eszközök fejlesztéskor) a [kimeneti adatfolyam](./logs) kezeléséhez, a bedőlt folyamatokra adott válaszhoz és a felhasználó által kezdeményezett újraindítások és leállások kezeléséhez.
